let linkWriteUs=document.querySelector(".write-us-button"),modalWriteUs=document.querySelector(".modal-write-us"),closeButtonWriteUs=modalWriteUs.querySelector(".close-button"),formWriteUs=modalWriteUs.querySelector(".form-write-us"),username=formWriteUs.querySelector("[name=username]"),email=formWriteUs.querySelector("[name=email]"),letter=formWriteUs.querySelector("[name=letter]"),usernameStorage="",emailStorage="",isStorageSupport=!0;try{usernameStorage=localStorage.getItem("username")}catch(e){isStorageSupport=!1}try{emailStorage=localStorage.getItem("email")}catch(e){isStorageSupport=!1}linkWriteUs.addEventListener("click",function(e){e.preventDefault(),modalWriteUs.classList.add("modal-show"),usernameStorage?(username.value=usernameStorage,emailStorage&&(email.value=emailStorage),letter.focus()):username.focus()}),closeButtonWriteUs.addEventListener("click",function(e){e.preventDefault(),modalWriteUs.classList.remove("modal-show"),modalWriteUs.classList.remove("modal-error")}),window.addEventListener("keydown",function(e){27===e.keyCode&&modalWriteUs.classList.contains("modal-show")&&(e.preventDefault(),modalWriteUs.classList.remove("modal-show"),modalWriteUs.classList.remove("modal-error"))}),formWriteUs.addEventListener("submit",function(e){username.value&&email.value&&letter.value?isStorageSupport&&(localStorage.setItem("username",username.value),localStorage.setItem("email",email.value)):(e.preventDefault(),modalWriteUs.classList.remove("modal-error"),modalWriteUs.offsetWidth=modalWriteUs.offsetWidth,modalWriteUs.classList.add("modal-error"))});let linkMap=document.querySelector(".map"),modalMap=document.querySelector(".modal-map"),closeButtonMap=modalMap.querySelector(".close-button");linkMap.addEventListener("click",function(e){e.preventDefault(),modalMap.classList.add("modal-show")}),closeButtonMap.addEventListener("click",function(e){e.preventDefault(),modalMap.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&modalMap.classList.contains("modal-show")&&(e.preventDefault(),modalMap.classList.remove("modal-show"))});